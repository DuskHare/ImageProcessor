// Validating benchmarks:
// ***** BenchmarkRunner: Start   *****
// ***** Found 8 benchmark(s) in total *****
// ***** Building 1 exe(s) in Parallel: Start   *****
// start dotnet restore /p:DebugType=portable /p:UseSharedCompilation=false /p:BuildInParallel=false /m:1 /p:Deterministic=true /p:Optimize=true in C:\Users\Shaveen\source\repos\core-imaging-playground-master\NetCore\bin\Debug\net5.0\d3cccdd7-0f6a-4ce0-baf1-55ee66f9b8a1
// command took 1.18s and exited with 0
// start dotnet build -c Release /p:DebugType=portable --no-restore /p:UseSharedCompilation=false /p:BuildInParallel=false /m:1 /p:Deterministic=true /p:Optimize=true in C:\Users\Shaveen\source\repos\core-imaging-playground-master\NetCore\bin\Debug\net5.0\d3cccdd7-0f6a-4ce0-baf1-55ee66f9b8a1
// command took 2.07s and exited with 0
// ***** Done, took 00:00:03 (3.4 sec)   *****
// Found 8 benchmarks:
//   LoadResizeSaveParallel.'System.Drawing Load, Resize, Save - Parallel': .Net 5.0 CLI(Arguments=/p:DebugType=portable, Toolchain=.NET 5.0, IterationCount=5, LaunchCount=1, WarmupCount=5)
//   LoadResizeSaveParallel.'ImageSharp Load, Resize, Save - Parallel': .Net 5.0 CLI(Arguments=/p:DebugType=portable, Toolchain=.NET 5.0, IterationCount=5, LaunchCount=1, WarmupCount=5)
//   LoadResizeSaveParallel.'ImageMagick Load, Resize, Save - Parallel': .Net 5.0 CLI(Arguments=/p:DebugType=portable, Toolchain=.NET 5.0, IterationCount=5, LaunchCount=1, WarmupCount=5)
//   LoadResizeSaveParallel.'ImageFree Load, Resize, Save - Parallel': .Net 5.0 CLI(Arguments=/p:DebugType=portable, Toolchain=.NET 5.0, IterationCount=5, LaunchCount=1, WarmupCount=5)
//   LoadResizeSaveParallel.'MagicScaler Load, Resize, Save - Parallel': .Net 5.0 CLI(Arguments=/p:DebugType=portable, Toolchain=.NET 5.0, IterationCount=5, LaunchCount=1, WarmupCount=5)
//   LoadResizeSaveParallel.'SkiaSharp Canvas Load, Resize, Save - Parallel': .Net 5.0 CLI(Arguments=/p:DebugType=portable, Toolchain=.NET 5.0, IterationCount=5, LaunchCount=1, WarmupCount=5)
//   LoadResizeSaveParallel.'SkiaSharp Bitmap Load, Resize, Save - Parallel': .Net 5.0 CLI(Arguments=/p:DebugType=portable, Toolchain=.NET 5.0, IterationCount=5, LaunchCount=1, WarmupCount=5)
//   LoadResizeSaveParallel.'NetVips Load, Resize, Save - Parallel': .Net 5.0 CLI(Arguments=/p:DebugType=portable, Toolchain=.NET 5.0, IterationCount=5, LaunchCount=1, WarmupCount=5)

// **************************
// Benchmark: LoadResizeSaveParallel.'System.Drawing Load, Resize, Save - Parallel': .Net 5.0 CLI(Arguments=/p:DebugType=portable, Toolchain=.NET 5.0, IterationCount=5, LaunchCount=1, WarmupCount=5)
// *** Execute ***
// Launch: 1 / 1
// Execute: dotnet "d3cccdd7-0f6a-4ce0-baf1-55ee66f9b8a1.dll" --benchmarkName "ImageProcessing.LoadResizeSaveParallel.SystemDrawingBenchmarkParallel" --job ".Net 5.0 CLI" --benchmarkId 0 in C:\Users\Shaveen\source\repos\core-imaging-playground-master\NetCore\bin\Debug\net5.0\d3cccdd7-0f6a-4ce0-baf1-55ee66f9b8a1\bin\Release\net5.0
// BeforeAnythingElse

// Benchmark Process Environment Information:
// Runtime=.NET 5.0.7 (5.0.721.25508), X64 RyuJIT
// GC=Concurrent Workstation
// Job: .Net 5.0 CLI(IterationCount=5, LaunchCount=1, WarmupCount=5)

OverheadJitting  1: 1 op, 203900.00 ns, 203.9000 us/op
WorkloadJitting  1: 1 op, 153698800.00 ns, 153.6988 ms/op

WorkloadPilot    1: 2 op, 230218000.00 ns, 115.1090 ms/op
WorkloadPilot    2: 3 op, 459145700.00 ns, 153.0486 ms/op
WorkloadPilot    3: 4 op, 472575100.00 ns, 118.1438 ms/op
WorkloadPilot    4: 5 op, 593825400.00 ns, 118.7651 ms/op

WorkloadWarmup   1: 5 op, 579796500.00 ns, 115.9593 ms/op
WorkloadWarmup   2: 5 op, 576508200.00 ns, 115.3016 ms/op
WorkloadWarmup   3: 5 op, 578692300.00 ns, 115.7385 ms/op
WorkloadWarmup   4: 5 op, 602362900.00 ns, 120.4726 ms/op
WorkloadWarmup   5: 5 op, 607847600.00 ns, 121.5695 ms/op

// BeforeActualRun
WorkloadActual   1: 5 op, 615011400.00 ns, 123.0023 ms/op
WorkloadActual   2: 5 op, 583593600.00 ns, 116.7187 ms/op
WorkloadActual   3: 5 op, 576000300.00 ns, 115.2001 ms/op
WorkloadActual   4: 5 op, 567495700.00 ns, 113.4991 ms/op
WorkloadActual   5: 5 op, 595853300.00 ns, 119.1707 ms/op

// AfterActualRun
WorkloadResult   1: 5 op, 615011400.00 ns, 123.0023 ms/op
WorkloadResult   2: 5 op, 583593600.00 ns, 116.7187 ms/op
WorkloadResult   3: 5 op, 576000300.00 ns, 115.2001 ms/op
WorkloadResult   4: 5 op, 567495700.00 ns, 113.4991 ms/op
WorkloadResult   5: 5 op, 595853300.00 ns, 119.1707 ms/op
GC:  0 0 0 181800 5
Threading:  67 59 5

// AfterAll
// Benchmark Process 24668 has exited with code 0

Mean = 117.518 ms, StdErr = 1.658 ms (1.41%), N = 5, StdDev = 3.707 ms
Min = 113.499 ms, Q1 = 115.200 ms, Median = 116.719 ms, Q3 = 119.171 ms, Max = 123.002 ms
IQR = 3.971 ms, LowerFence = 109.244 ms, UpperFence = 125.127 ms
ConfidenceInterval = [103.243 ms; 131.793 ms] (CI 99.9%), Margin = 14.275 ms (12.15% of Mean)
Skewness = 0.36, Kurtosis = 1.27, MValue = 2

// **************************
// Benchmark: LoadResizeSaveParallel.'ImageSharp Load, Resize, Save - Parallel': .Net 5.0 CLI(Arguments=/p:DebugType=portable, Toolchain=.NET 5.0, IterationCount=5, LaunchCount=1, WarmupCount=5)
// *** Execute ***
// Launch: 1 / 1
// Execute: dotnet "d3cccdd7-0f6a-4ce0-baf1-55ee66f9b8a1.dll" --benchmarkName "ImageProcessing.LoadResizeSaveParallel.ImageSharpBenchmarkParallel" --job ".Net 5.0 CLI" --benchmarkId 1 in C:\Users\Shaveen\source\repos\core-imaging-playground-master\NetCore\bin\Debug\net5.0\d3cccdd7-0f6a-4ce0-baf1-55ee66f9b8a1\bin\Release\net5.0
// BeforeAnythingElse

// Benchmark Process Environment Information:
// Runtime=.NET 5.0.7 (5.0.721.25508), X64 RyuJIT
// GC=Concurrent Workstation
// Job: .Net 5.0 CLI(IterationCount=5, LaunchCount=1, WarmupCount=5)

OverheadJitting  1: 1 op, 200800.00 ns, 200.8000 us/op
WorkloadJitting  1: 1 op, 183038600.00 ns, 183.0386 ms/op

WorkloadPilot    1: 2 op, 139600800.00 ns, 69.8004 ms/op
WorkloadPilot    2: 3 op, 118212400.00 ns, 39.4041 ms/op
WorkloadPilot    3: 4 op, 132717500.00 ns, 33.1794 ms/op
WorkloadPilot    4: 5 op, 162825200.00 ns, 32.5650 ms/op
WorkloadPilot    5: 6 op, 170553600.00 ns, 28.4256 ms/op

System.Reflection.TargetInvocationException: Exception has been thrown by the target of an invocation.
 ---> System.AggregateException: One or more errors occurred. (The process cannot access the file 'C:\Users\Shaveen\source\repos\core-imaging-playground-master\output\IMG_2525-ImageSharp.jpg' because it is being used by another process.)
 ---> System.IO.IOException: The process cannot access the file 'C:\Users\Shaveen\source\repos\core-imaging-playground-master\output\IMG_2525-ImageSharp.jpg' because it is being used by another process.
   at System.IO.FileStream.ValidateFileHandle(SafeFileHandle fileHandle)
   at System.IO.FileStream.CreateFileOpenHandle(FileMode mode, FileShare share, FileOptions options)
   at System.IO.FileStream..ctor(String path, FileMode mode, FileAccess access, FileShare share, Int32 bufferSize, FileOptions options)
   at ImageProcessing.LoadResizeSave.ImageSharpResize(String input) in C:\Users\Shaveen\source\repos\core-imaging-playground-master\NetCore\LoadResizeSave.cs:line 171
   at System.Threading.Tasks.Parallel.<>c__DisplayClass44_0`2.<PartitionerForEachWorker>b__1(IEnumerator& partitionState, Int32 timeout, Boolean& replicationDelegateYieldedBeforeCompletion)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.Parallel.<>c__DisplayClass44_0`2.<PartitionerForEachWorker>b__1(IEnumerator& partitionState, Int32 timeout, Boolean& replicationDelegateYieldedBeforeCompletion)
   at System.Threading.Tasks.TaskReplicator.Replica.Execute()
   --- End of inner exception stack trace ---
   at System.Threading.Tasks.TaskReplicator.Run[TState](ReplicatableUserAction`1 action, ParallelOptions options, Boolean stopOnFirstFailure)
   at System.Threading.Tasks.Parallel.PartitionerForEachWorker[TSource,TLocal](Partitioner`1 source, ParallelOptions parallelOptions, Action`1 simpleBody, Action`2 bodyWithState, Action`3 bodyWithStateAndIndex, Func`4 bodyWithStateAndLocal, Func`5 bodyWith