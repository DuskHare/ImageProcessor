// Validating benchmarks:
// ***** BenchmarkRunner: Start   *****
// ***** Found 8 benchmark(s) in total *****
// ***** Building 1 exe(s) in Parallel: Start   *****
// start dotnet restore /p:DebugType=portable /p:UseSharedCompilation=false /p:BuildInParallel=false /m:1 /p:Deterministic=true /p:Optimize=true in C:\Users\Shaveen\source\repos\core-imaging-playground-master\NetCore\bin\Debug\net5.0\74d1a87e-7017-4503-bc8e-db6664590531
// command took 1.25s and exited with 0
// start dotnet build -c Release /p:DebugType=portable --no-restore /p:UseSharedCompilation=false /p:BuildInParallel=false /m:1 /p:Deterministic=true /p:Optimize=true in C:\Users\Shaveen\source\repos\core-imaging-playground-master\NetCore\bin\Debug\net5.0\74d1a87e-7017-4503-bc8e-db6664590531
// command took 2.95s and exited with 0
// ***** Done, took 00:00:04 (4.37 sec)   *****
// Found 8 benchmarks:
//   LoadResizeSaveParallel.'System.Drawing Load, Resize, Save - Parallel': .Net 5.0 CLI(Arguments=/p:DebugType=portable, Toolchain=.NET 5.0, IterationCount=5, LaunchCount=1, WarmupCount=5)
//   LoadResizeSaveParallel.'ImageSharp Load, Resize, Save - Parallel': .Net 5.0 CLI(Arguments=/p:DebugType=portable, Toolchain=.NET 5.0, IterationCount=5, LaunchCount=1, WarmupCount=5)
//   LoadResizeSaveParallel.'ImageMagick Load, Resize, Save - Parallel': .Net 5.0 CLI(Arguments=/p:DebugType=portable, Toolchain=.NET 5.0, IterationCount=5, LaunchCount=1, WarmupCount=5)
//   LoadResizeSaveParallel.'ImageFree Load, Resize, Save - Parallel': .Net 5.0 CLI(Arguments=/p:DebugType=portable, Toolchain=.NET 5.0, IterationCount=5, LaunchCount=1, WarmupCount=5)
//   LoadResizeSaveParallel.'MagicScaler Load, Resize, Save - Parallel': .Net 5.0 CLI(Arguments=/p:DebugType=portable, Toolchain=.NET 5.0, IterationCount=5, LaunchCount=1, WarmupCount=5)
//   LoadResizeSaveParallel.'SkiaSharp Canvas Load, Resize, Save - Parallel': .Net 5.0 CLI(Arguments=/p:DebugType=portable, Toolchain=.NET 5.0, IterationCount=5, LaunchCount=1, WarmupCount=5)
//   LoadResizeSaveParallel.'SkiaSharp Bitmap Load, Resize, Save - Parallel': .Net 5.0 CLI(Arguments=/p:DebugType=portable, Toolchain=.NET 5.0, IterationCount=5, LaunchCount=1, WarmupCount=5)
//   LoadResizeSaveParallel.'NetVips Load, Resize, Save - Parallel': .Net 5.0 CLI(Arguments=/p:DebugType=portable, Toolchain=.NET 5.0, IterationCount=5, LaunchCount=1, WarmupCount=5)

// **************************
// Benchmark: LoadResizeSaveParallel.'System.Drawing Load, Resize, Save - Parallel': .Net 5.0 CLI(Arguments=/p:DebugType=portable, Toolchain=.NET 5.0, IterationCount=5, LaunchCount=1, WarmupCount=5)
// *** Execute ***
// Launch: 1 / 1
// Execute: dotnet "74d1a87e-7017-4503-bc8e-db6664590531.dll" --benchmarkName "ImageProcessing.LoadResizeSaveParallel.SystemDrawingBenchmarkParallel" --job ".Net 5.0 CLI" --benchmarkId 0 in C:\Users\Shaveen\source\repos\core-imaging-playground-master\NetCore\bin\Debug\net5.0\74d1a87e-7017-4503-bc8e-db6664590531\bin\Release\net5.0
// BeforeAnythingElse

// Benchmark Process Environment Information:
// Runtime=.NET 5.0.7 (5.0.721.25508), X64 RyuJIT
// GC=Concurrent Workstation
// Job: .Net 5.0 CLI(IterationCount=5, LaunchCount=1, WarmupCount=5)

OverheadJitting  1: 1 op, 188900.00 ns, 188.9000 us/op
WorkloadJitting  1: 1 op, 157383100.00 ns, 157.3831 ms/op

WorkloadPilot    1: 2 op, 236438200.00 ns, 118.2191 ms/op
WorkloadPilot    2: 3 op, 343482000.00 ns, 114.4940 ms/op
WorkloadPilot    3: 4 op, 465977500.00 ns, 116.4944 ms/op
WorkloadPilot    4: 5 op, 663018000.00 ns, 132.6036 ms/op

WorkloadWarmup   1: 5 op, 571352900.00 ns, 114.2706 ms/op
WorkloadWarmup   2: 5 op, 575444600.00 ns, 115.0889 ms/op
WorkloadWarmup   3: 5 op, 577858100.00 ns, 115.5716 ms/op
WorkloadWarmup   4: 5 op, 590590700.00 ns, 118.1181 ms/op
WorkloadWarmup   5: 5 op, 585336300.00 ns, 117.0673 ms/op

// BeforeActualRun
WorkloadActual   1: 5 op, 597705600.00 ns, 119.5411 ms/op
WorkloadActual   2: 5 op, 580271000.00 ns, 116.0542 ms/op
WorkloadActual   3: 5 op, 588083100.00 ns, 117.6166 ms/op
WorkloadActual   4: 5 op, 576915000.00 ns, 115.3830 ms/op
WorkloadActual   5: 5 op, 597799200.00 ns, 119.5598 ms/op

// AfterActualRun
WorkloadResult   1: 5 op, 597705600.00 ns, 119.5411 ms/op
WorkloadResult   2: 5 op, 580271000.00 ns, 116.0542 ms/op
WorkloadResult   3: 5 op, 588083100.00 ns, 117.6166 ms/op
WorkloadResult   4: 5 op, 576915000.00 ns, 115.3830 ms/op
WorkloadResult   5: 5 op, 597799200.00 ns, 119.5598 ms/op
GC:  0 0 0 181776 5
Threading:  67 60 5

// AfterAll
// Benchmark Process 33840 has exited with code 0

Mean = 117.631 ms, StdErr = 0.863 ms (0.73%), N = 5, StdDev = 1.931 ms
Min = 115.383 ms, Q1 = 116.054 ms, Median = 117.617 ms, Q3 = 119.541 ms, Max = 119.560 ms
IQR = 3.487 ms, LowerFence = 110.824 ms, UpperFence = 124.772 ms
ConfidenceInterval = [110.197 ms; 125.065 ms] (CI 99.9%), Margin = 7.434 ms (6.32% of Mean)
Skewness = -0.03, Kurtosis = 0.85, MValue = 2

// **************************
// Benchmark: LoadResizeSaveParallel.'ImageSharp Load, Resize, Save - Parallel': .Net 5.0 CLI(Arguments=/p:DebugType=portable, Toolchain=.NET 5.0, IterationCount=5, LaunchCount=1, WarmupCount=5)
// *** Execute ***
// Launch: 1 / 1
// Execute: dotnet "74d1a87e-7017-4503-bc8e-db6664590531.dll" --benchmarkName "ImageProcessing.LoadResizeSaveParallel.ImageSharpBenchmarkParallel" --job ".Net 5.0 CLI" --benchmarkId 1 in C:\Users\Shaveen\source\repos\core-imaging-playground-master\NetCore\bin\Debug\net5.0\74d1a87e-7017-4503-bc8e-db6664590531\bin\Release\net5.0
// BeforeAnythingElse

// Benchmark Process Environment Information:
// Runtime=.NET 5.0.7 (5.0.721.25508), X64 RyuJIT
// GC=Concurrent Workstation
// Job: .Net 5.0 CLI(IterationCount=5, LaunchCount=1, WarmupCount=5)

OverheadJitting  1: 1 op, 195000.00 ns, 195.0000 us/op
WorkloadJitting  1: 1 op, 176966100.00 ns, 176.9661 ms/op

WorkloadPilot    1: 2 op, 175574300.00 ns, 87.7871 ms/op
WorkloadPilot    2: 3 op, 106858300.00 ns, 35.6194 ms/op
WorkloadPilot    3: 4 op, 135901000.00 ns, 33.9753 ms/op
WorkloadPilot    4: 5 op, 156065300.00 ns, 31.2131 ms/op
WorkloadPilot    5: 6 op, 390318000.00 ns, 65.0530 ms/op
WorkloadPilot    6: 7 op, 204347400.00 ns, 29.1925 ms/op
WorkloadPilot    7: 8 op, 232442400.00 ns, 29.0553 ms/op
WorkloadPilot    8: 9 op, 244485200.00 ns, 27.1650 ms/op
WorkloadPilot    9: 10 op, 265383500.00 ns, 26.5384 ms/op
WorkloadPilot   10: 11 op, 309793900.00 ns, 28.1631 ms/op
WorkloadPilot   11: 12 op, 387109200.00 ns, 32.2591 ms/op
WorkloadPilot   12: 13 op, 405165500.00 ns, 31.1666 ms/op
WorkloadPilot   13: 14 op, 434789600.00 ns, 31.0564 ms/op
WorkloadPilot   14: 15 op, 408583600.00 ns, 27.2389 ms/op

System.Reflection.TargetInvocationException: Exception has been thrown by the target of an invocation.
 ---> System.AggregateException: One or more errors occurred. (The process cannot access the file 'C:\Users\Shaveen\source\repos\core-imaging-playground-master\output\IMG_2445-ImageSharp.jpg' because it is being used by another process.)
 ---> System.IO.IOException: The process cannot access the file 'C:\Users\Shaveen\source\repos\core-imaging-playground-master\output\IMG_2445-ImageSharp.jpg' because it is being used by another process.
   at System.IO.FileStream.ValidateFileHandle(SafeFileHandle fileHandle)
   at System.IO.FileStream.CreateFileOpenHandle(FileMode mode, FileShare share, FileOptions options)
   at System.IO.FileStream..ctor(String path, FileMode mode, FileAccess access, FileShare share, Int32 bufferSize, FileOptions options)
   at ImageProcessing.LoadResizeSave.ImageSharpResize(String input) in C:\Users\Shaveen\source\repos\core-imaging-playground-master\NetCore\LoadResizeSave.cs:line 171
   at System.Threading.Tasks.Parallel.<>c__DisplayClass44_0`2.<PartitionerForEachWorker>b__1(IEnumerator& partitionState, Int32 timeout, Boolean& replicationDelegateYieldedBeforeCompletion)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.Parallel.<>c__DisplayClass44_0`2.<PartitionerForEachWorker>b__1(IEnumerator& partitionState, Int32 timeout, Boolean& replicationDelegateYielded